Using base prefix '/cvmfs/soft.computecanada.ca/easybuild/software/2017/Core/python/3.6.3'
New python executable in /localscratch/kjslakov.28871226.0/env/bin/python
Installing setuptools, pip, wheel...done.
Ignoring pip: markers 'python_version < "3"' don't match your environment
Collecting pip
Installing collected packages: pip
  Found existing installation: pip 9.0.1
    Uninstalling pip-9.0.1:
      Successfully uninstalled pip-9.0.1
Successfully installed pip-18.1
Ignoring pip: markers 'python_version < "3"' don't match your environment
Looking in links: /cvmfs/soft.computecanada.ca/custom/python/wheelhouse/avx2, /cvmfs/soft.computecanada.ca/custom/python/wheelhouse/generic
Collecting sklearn
  Could not find a version that satisfies the requirement sklearn (from versions: )
No matching distribution found for sklearn
Ignoring pip: markers 'python_version < "3"' don't match your environment
Looking in links: /cvmfs/soft.computecanada.ca/custom/python/wheelhouse/avx2, /cvmfs/soft.computecanada.ca/custom/python/wheelhouse/generic, /cvmfs/soft.computecanada.ca/custom/python/wheelhouse/avx2, /cvmfs/soft.computecanada.ca/custom/python/wheelhouse/generic
Requirement already satisfied: arff==0.9 in /cvmfs/soft.computecanada.ca/easybuild/software/2017/Core/scipy-stack/2019a/lib/python3.6/site-packages (from -r general_requirements.txt (line 3)) (0.9)
Requirement already satisfied: asn1crypto==0.24.0 in /cvmfs/soft.computecanada.ca/easybuild/software/2017/Core/scipy-stack/2019a/lib/python3.6/site-packages (from -r general_requirements.txt (line 4)) (0.24.0)
Requirement already satisfied: backcall==0.1.0 in /cvmfs/soft.computecanada.ca/easybuild/software/2017/Core/scipy-stack/2019a/lib/python3.6/site-packages (from -r general_requirements.txt (line 5)) (0.1.0)
Requirement already satisfied: backports-abc==0.5 in /cvmfs/soft.computecanada.ca/easybuild/software/2017/Core/scipy-stack/2019a/lib/python3.6/site-packages (from -r general_requirements.txt (line 6)) (0.5)
Requirement already satisfied: backports.shutil-get-terminal-size==1.0.0 in /cvmfs/soft.computecanada.ca/easybuild/software/2017/Core/scipy-stack/2019a/lib/python3.6/site-packages (from -r general_requirements.txt (line 7)) (1.0.0)
Requirement already satisfied: bcrypt==3.1.4 in /cvmfs/soft.computecanada.ca/easybuild/software/2017/Core/scipy-stack/2019a/lib/python3.6/site-packages (from -r general_requirements.txt (line 8)) (3.1.4)
Requirement already satisfied: bitstring==3.1.5 in /cvmfs/soft.computecanada.ca/easybuild/software/2017/Core/scipy-stack/2019a/lib/python3.6/site-packages (from -r general_requirements.txt (line 9)) (3.1.5)
Requirement already satisfied: bleach==2.1.3 in /cvmfs/soft.computecanada.ca/easybuild/software/2017/Core/scipy-stack/2019a/lib/python3.6/site-packages (from -r general_requirements.txt (line 10)) (2.1.3)
Requirement already satisfied: blist==1.3.6 in /cvmfs/soft.computecanada.ca/easybuild/software/2017/Core/scipy-stack/2019a/lib/python3.6/site-packages (from -r general_requirements.txt (line 11)) (1.3.6)
Requirement already satisfied: certifi==2018.11.29 in /cvmfs/soft.computecanada.ca/easybuild/software/2017/Core/scipy-stack/2019a/lib/python3.6/site-packages (from -r general_requirements.txt (line 12)) (2018.11.29)
Requirement already satisfied: cffi==1.11.5 in /cvmfs/soft.computecanada.ca/easybuild/software/2017/Core/scipy-stack/2019a/lib/python3.6/site-packages (from -r general_requirements.txt (line 13)) (1.11.5)
Requirement already satisfied: chardet==3.0.4 in /cvmfs/soft.computecanada.ca/easybuild/software/2017/Core/scipy-stack/2019a/lib/python3.6/site-packages (from -r general_requirements.txt (line 14)) (3.0.4)
Requirement already satisfied: cryptography==2.4.2 in /cvmfs/soft.computecanada.ca/easybuild/software/2017/Core/scipy-stack/2019a/lib/python3.6/site-packages (from -r general_requirements.txt (line 15)) (2.4.2)
Requirement already satisfied: cycler==0.10.0 in /cvmfs/soft.computecanada.ca/easybuild/software/2017/Core/scipy-stack/2019a/lib/python3.6/site-packages (from -r general_requirements.txt (line 16)) (0.10.0)
Requirement already satisfied: Cython==0.29.2 in /cvmfs/soft.computecanada.ca/easybuild/software/2017/Core/scipy-stack/2019a/lib/python3.6/site-packages (from -r general_requirements.txt (line 17)) (0.29.2)
Requirement already satisfied: deap==1.2.2 in /cvmfs/soft.computecanada.ca/easybuild/software/2017/Core/scipy-stack/2019a/lib/python3.6/site-packages (from -r general_requirements.txt (line 18)) (1.2.2)
Requirement already satisfied: decorator==4.3.0 in /cvmfs/soft.computecanada.ca/easybuild/software/2017/Core/scipy-stack/2019a/lib/python3.6/site-packages (from -r general_requirements.txt (line 19)) (4.3.0)
Requirement already satisfied: ecdsa==0.13 in /cvmfs/soft.computecanada.ca/easybuild/software/2017/Core/scipy-stack/2019a/lib/python3.6/site-packages (from -r general_requirements.txt (line 20)) (0.13)
Requirement already satisfied: entrypoints==0.2.3 in /cvmfs/soft.computecanada.ca/easybuild/software/2017/Core/scipy-stack/2019a/lib/python3.6/site-packages (from -r general_requirements.txt (line 21)) (0.2.3)
Requirement already satisfied: funcsigs==1.0.2 in /cvmfs/soft.computecanada.ca/easybuild/software/2017/Core/scipy-stack/2019a/lib/python3.6/site-packages (from -r general_requirements.txt (line 22)) (1.0.2)
Requirement already satisfied: html5lib==1.0.1 in /cvmfs/soft.computecanada.ca/easybuild/software/2017/Core/scipy-stack/2019a/lib/python3.6/site-packages (from -r general_requirements.txt (line 23)) (1.0.1)
Requirement already satisfied: idna==2.8 in /cvmfs/soft.computecanada.ca/easybuild/software/2017/Core/scipy-stack/2019a/lib/python3.6/site-packages (from -r general_requirements.txt (line 24)) (2.8)
Requirement already satisfied: importlib-metadata==0.8 in /cvmfs/soft.computecanada.ca/easybuild/software/2017/Core/scipy-stack/2019a/lib/python3.6/site-packages (from -r general_requirements.txt (line 25)) (0.8)
Requirement already satisfied: ipykernel==4.8.2 in /cvmfs/soft.computecanada.ca/easybuild/software/2017/Core/scipy-stack/2019a/lib/python3.6/site-packages (from -r general_requirements.txt (line 26)) (4.8.2)
Requirement already satisfied: ipython==6.5.0 in /cvmfs/soft.computecanada.ca/easybuild/software/2017/Core/scipy-stack/2019a/lib/python3.6/site-packages (from -r general_requirements.txt (line 27)) (6.5.0)
Requirement already satisfied: ipython-genutils==0.2.0 in /cvmfs/soft.computecanada.ca/easybuild/software/2017/Core/scipy-stack/2019a/lib/python3.6/site-packages (from -r general_requirements.txt (line 28)) (0.2.0)
Requirement already satisfied: ipywidgets==7.4.2 in /cvmfs/soft.computecanada.ca/easybuild/software/2017/Core/scipy-stack/2019a/lib/python3.6/site-packages (from -r general_requirements.txt (line 29)) (7.4.2)
Requirement already satisfied: jedi==0.12.1 in /cvmfs/soft.computecanada.ca/easybuild/software/2017/Core/scipy-stack/2019a/lib/python3.6/site-packages (from -r general_requirements.txt (line 30)) (0.12.1)
Requirement already satisfied: Jinja2==2.10 in /cvmfs/soft.computecanada.ca/easybuild/software/2017/Core/scipy-stack/2019a/lib/python3.6/site-packages (from -r general_requirements.txt (line 31)) (2.10)
Collecting joblib==0.14.1 (from -r general_requirements.txt (line 32))
Requirement already satisfied: jsonschema==2.6.0 in /cvmfs/soft.computecanada.ca/easybuild/software/2017/Core/scipy-stack/2019a/lib/python3.6/site-packages (from -r general_requirements.txt (line 33)) (2.6.0)
Requirement already satisfied: jupyter-client==5.2.4 in /cvmfs/soft.computecanada.ca/easybuild/software/2017/Core/scipy-stack/2019a/lib/python3.6/site-packages (from -r general_requirements.txt (line 34)) (5.2.4)
Requirement already satisfied: jupyter-core==4.4.0 in /cvmfs/soft.computecanada.ca/easybuild/software/2017/Core/scipy-stack/2019a/lib/python3.6/site-packages (from -r general_requirements.txt (line 35)) (4.4.0)
Requirement already satisfied: kiwisolver==1.0.1 in /cvmfs/soft.computecanada.ca/easybuild/software/2017/Core/scipy-stack/2019a/lib/python3.6/site-packages (from -r general_requirements.txt (line 36)) (1.0.1)
Requirement already satisfied: lockfile==0.12.2 in /cvmfs/soft.computecanada.ca/easybuild/software/2017/Core/scipy-stack/2019a/lib/python3.6/site-packages (from -r general_requirements.txt (line 37)) (0.12.2)
Requirement already satisfied: MarkupSafe==1.1.0 in /cvmfs/soft.computecanada.ca/easybuild/software/2017/Core/scipy-stack/2019a/lib/python3.6/site-packages (from -r general_requirements.txt (line 38)) (1.1.0)
Requirement already satisfied: matplotlib==3.0.2 in /cvmfs/soft.computecanada.ca/easybuild/software/2017/Core/scipy-stack/2019a/lib/python3.6/site-packages (from -r general_requirements.txt (line 39)) (3.0.2)
Requirement already satisfied: mistune==0.8.4 in /cvmfs/soft.computecanada.ca/easybuild/software/2017/Core/scipy-stack/2019a/lib/python3.6/site-packages (from -r general_requirements.txt (line 40)) (0.8.4)
Requirement already satisfied: mock==2.0.0 in /cvmfs/soft.computecanada.ca/easybuild/software/2017/Core/scipy-stack/2019a/lib/python3.6/site-packages (from -r general_requirements.txt (line 41)) (2.0.0)
Requirement already satisfied: mpmath==1.1.0 in /cvmfs/soft.computecanada.ca/easybuild/software/2017/Core/scipy-stack/2019a/lib/python3.6/site-packages (from -r general_requirements.txt (line 42)) (1.1.0)
Requirement already satisfied: nbconvert==5.3.1 in /cvmfs/soft.computecanada.ca/easybuild/software/2017/Core/scipy-stack/2019a/lib/python3.6/site-packages (from -r general_requirements.txt (line 43)) (5.3.1)
Requirement already satisfied: nbformat==4.4.0 in /cvmfs/soft.computecanada.ca/easybuild/software/2017/Core/scipy-stack/2019a/lib/python3.6/site-packages (from -r general_requirements.txt (line 44)) (4.4.0)
Requirement already satisfied: netaddr==0.7.19 in /cvmfs/soft.computecanada.ca/easybuild/software/2017/Core/scipy-stack/2019a/lib/python3.6/site-packages (from -r general_requirements.txt (line 45)) (0.7.19)
Requirement already satisfied: netifaces==0.10.9 in /cvmfs/soft.computecanada.ca/easybuild/software/2017/Core/scipy-stack/2019a/lib/python3.6/site-packages (from -r general_requirements.txt (line 46)) (0.10.9)
Requirement already satisfied: nose==1.3.7 in /cvmfs/soft.computecanada.ca/easybuild/software/2017/Core/scipy-stack/2019a/lib/python3.6/site-packages (from -r general_requirements.txt (line 47)) (1.3.7)
Requirement already satisfied: notebook==5.7.4 in /cvmfs/soft.computecanada.ca/easybuild/software/2017/Core/scipy-stack/2019a/lib/python3.6/site-packages (from -r general_requirements.txt (line 48)) (5.7.4)
Requirement already satisfied: numpy==1.16.0 in /cvmfs/soft.computecanada.ca/easybuild/software/2017/Core/scipy-stack/2019a/lib/python3.6/site-packages (from -r general_requirements.txt (line 49)) (1.16.0)
Requirement already satisfied: pandas==0.23.4 in /cvmfs/soft.computecanada.ca/easybuild/software/2017/Core/scipy-stack/2019a/lib/python3.6/site-packages (from -r general_requirements.txt (line 50)) (0.23.4)
Requirement already satisfied: pandocfilters==1.4.2 in /cvmfs/soft.computecanada.ca/easybuild/software/2017/Core/scipy-stack/2019a/lib/python3.6/site-packages (from -r general_requirements.txt (line 51)) (1.4.2)
Requirement already satisfied: paramiko==2.4.2 in /cvmfs/soft.computecanada.ca/easybuild/software/2017/Core/scipy-stack/2019a/lib/python3.6/site-packages (from -r general_requirements.txt (line 52)) (2.4.2)
Requirement already satisfied: parso==0.3.1 in /cvmfs/soft.computecanada.ca/easybuild/software/2017/Core/scipy-stack/2019a/lib/python3.6/site-packages (from -r general_requirements.txt (line 53)) (0.3.1)
Requirement already satisfied: path.py==11.5.0 in /cvmfs/soft.computecanada.ca/easybuild/software/2017/Core/scipy-stack/2019a/lib/python3.6/site-packages (from -r general_requirements.txt (line 54)) (11.5.0)
Requirement already satisfied: pathlib2==2.3.3 in /cvmfs/soft.computecanada.ca/easybuild/software/2017/Core/scipy-stack/2019a/lib/python3.6/site-packages (from -r general_requirements.txt (line 55)) (2.3.3)
Requirement already satisfied: paycheck==1.0.2 in /cvmfs/soft.computecanada.ca/easybuild/software/2017/Core/scipy-stack/2019a/lib/python3.6/site-packages (from -r general_requirements.txt (line 56)) (1.0.2)
Requirement already satisfied: pbr==5.1.1 in /cvmfs/soft.computecanada.ca/easybuild/software/2017/Core/scipy-stack/2019a/lib/python3.6/site-packages (from -r general_requirements.txt (line 57)) (5.1.1)
Requirement already satisfied: pexpect==4.6.0 in /cvmfs/soft.computecanada.ca/easybuild/software/2017/Core/scipy-stack/2019a/lib/python3.6/site-packages (from -r general_requirements.txt (line 58)) (4.6.0)
Requirement already satisfied: pickleshare==0.7.5 in /cvmfs/soft.computecanada.ca/easybuild/software/2017/Core/scipy-stack/2019a/lib/python3.6/site-packages (from -r general_requirements.txt (line 59)) (0.7.5)
Requirement already satisfied: prometheus-client==0.3.1 in /cvmfs/soft.computecanada.ca/easybuild/software/2017/Core/scipy-stack/2019a/lib/python3.6/site-packages (from -r general_requirements.txt (line 60)) (0.3.1)
Requirement already satisfied: prompt-toolkit==1.0.15 in /cvmfs/soft.computecanada.ca/easybuild/software/2017/Core/scipy-stack/2019a/lib/python3.6/site-packages (from -r general_requirements.txt (line 61)) (1.0.15)
Requirement already satisfied: ptyprocess==0.6.0 in /cvmfs/soft.computecanada.ca/easybuild/software/2017/Core/scipy-stack/2019a/lib/python3.6/site-packages (from -r general_requirements.txt (line 62)) (0.6.0)
Requirement already satisfied: pyasn1==0.4.3 in /cvmfs/soft.computecanada.ca/easybuild/software/2017/Core/scipy-stack/2019a/lib/python3.6/site-packages (from -r general_requirements.txt (line 63)) (0.4.3)
Requirement already satisfied: pycparser==2.18 in /cvmfs/soft.computecanada.ca/easybuild/software/2017/Core/scipy-stack/2019a/lib/python3.6/site-packages (from -r general_requirements.txt (line 64)) (2.18)
Requirement already satisfied: Pygments==2.3.1 in /cvmfs/soft.computecanada.ca/easybuild/software/2017/Core/scipy-stack/2019a/lib/python3.6/site-packages (from -r general_requirements.txt (line 65)) (2.3.1)
Requirement already satisfied: PyNaCl==1.2.1 in /cvmfs/soft.computecanada.ca/easybuild/software/2017/Core/scipy-stack/2019a/lib/python3.6/site-packages (from -r general_requirements.txt (line 66)) (1.2.1)
Requirement already satisfied: pyparsing==2.3.1 in /cvmfs/soft.computecanada.ca/easybuild/software/2017/Core/scipy-stack/2019a/lib/python3.6/site-packages (from -r general_requirements.txt (line 67)) (2.3.1)
Requirement already satisfied: python-dateutil==2.7.5 in /cvmfs/soft.computecanada.ca/easybuild/software/2017/Core/scipy-stack/2019a/lib/python3.6/site-packages (from -r general_requirements.txt (line 68)) (2.7.5)
Requirement already satisfied: pytz==2018.9 in /cvmfs/soft.computecanada.ca/easybuild/software/2017/Core/scipy-stack/2019a/lib/python3.6/site-packages (from -r general_requirements.txt (line 69)) (2018.9)
Requirement already satisfied: pyzmq==17.1.2 in /cvmfs/soft.computecanada.ca/easybuild/software/2017/Core/scipy-stack/2019a/lib/python3.6/site-packages (from -r general_requirements.txt (line 70)) (17.1.2)
Requirement already satisfied: requests==2.21.0 in /cvmfs/soft.computecanada.ca/easybuild/software/2017/Core/scipy-stack/2019a/lib/python3.6/site-packages (from -r general_requirements.txt (line 71)) (2.21.0)
Collecting scikit-learn==0.21.2 (from -r general_requirements.txt (line 72))
Requirement already satisfied: scipy==1.2.0 in /cvmfs/soft.computecanada.ca/easybuild/software/2017/Core/scipy-stack/2019a/lib/python3.6/site-packages (from -r general_requirements.txt (line 73)) (1.2.0)
Requirement already satisfied: Send2Trash==1.5.0 in /cvmfs/soft.computecanada.ca/easybuild/software/2017/Core/scipy-stack/2019a/lib/python3.6/site-packages (from -r general_requirements.txt (line 74)) (1.5.0)
Requirement already satisfied: simplegeneric==0.8.1 in /cvmfs/soft.computecanada.ca/easybuild/software/2017/Core/scipy-stack/2019a/lib/python3.6/site-packages (from -r general_requirements.txt (line 75)) (0.8.1)
Requirement already satisfied: singledispatch==3.4.0.3 in /cvmfs/soft.computecanada.ca/easybuild/software/2017/Core/scipy-stack/2019a/lib/python3.6/site-packages (from -r general_requirements.txt (line 76)) (3.4.0.3)
Requirement already satisfied: six==1.12.0 in /cvmfs/soft.computecanada.ca/easybuild/software/2017/Core/scipy-stack/2019a/lib/python3.6/site-packages (from -r general_requirements.txt (line 77)) (1.12.0)
Requirement already satisfied: sympy==1.3 in /cvmfs/soft.computecanada.ca/easybuild/software/2017/Core/scipy-stack/2019a/lib/python3.6/site-packages (from -r general_requirements.txt (line 78)) (1.3)
Requirement already satisfied: terminado==0.8.1 in /cvmfs/soft.computecanada.ca/easybuild/software/2017/Core/scipy-stack/2019a/lib/python3.6/site-packages (from -r general_requirements.txt (line 79)) (0.8.1)
Requirement already satisfied: testpath==0.3.1 in /cvmfs/soft.computecanada.ca/easybuild/software/2017/Core/scipy-stack/2019a/lib/python3.6/site-packages (from -r general_requirements.txt (line 80)) (0.3.1)
Requirement already satisfied: tornado==5.1.1 in /cvmfs/soft.computecanada.ca/easybuild/software/2017/Core/scipy-stack/2019a/lib/python3.6/site-packages (from -r general_requirements.txt (line 81)) (5.1.1)
Requirement already satisfied: traitlets==4.3.2 in /cvmfs/soft.computecanada.ca/easybuild/software/2017/Core/scipy-stack/2019a/lib/python3.6/site-packages (from -r general_requirements.txt (line 82)) (4.3.2)
Requirement already satisfied: urllib3==1.24.1 in /cvmfs/soft.computecanada.ca/easybuild/software/2017/Core/scipy-stack/2019a/lib/python3.6/site-packages (from -r general_requirements.txt (line 83)) (1.24.1)
Requirement already satisfied: wcwidth==0.1.7 in /cvmfs/soft.computecanada.ca/easybuild/software/2017/Core/scipy-stack/2019a/lib/python3.6/site-packages (from -r general_requirements.txt (line 84)) (0.1.7)
Requirement already satisfied: webencodings==0.5.1 in /cvmfs/soft.computecanada.ca/easybuild/software/2017/Core/scipy-stack/2019a/lib/python3.6/site-packages (from -r general_requirements.txt (line 85)) (0.5.1)
Requirement already satisfied: widgetsnbextension==3.4.2 in /cvmfs/soft.computecanada.ca/easybuild/software/2017/Core/scipy-stack/2019a/lib/python3.6/site-packages (from -r general_requirements.txt (line 86)) (3.4.2)
Requirement already satisfied: zipp==0.3.3 in /cvmfs/soft.computecanada.ca/easybuild/software/2017/Core/scipy-stack/2019a/lib/python3.6/site-packages (from -r general_requirements.txt (line 87)) (0.3.3)
Requirement already satisfied: setuptools>=18.5 in /local/kjslakov.28871226.0/env/lib/python3.6/site-packages (from ipython==6.5.0->-r general_requirements.txt (line 27)) (28.8.0)
Installing collected packages: joblib, scikit-learn
Successfully installed joblib-0.14.1 scikit-learn-0.21.2
loaded
Traceback (most recent call last):
  File "//home/kjslakov/projects/def-jwerker/kjslakov/jwlab_eeg/classification/code/jwlab/run/prep_ml_df.py", line 13, in <module>
    df_final = create_ml_df_internal(df, ys, participants, downsample_num=1000, bad_trials_filepath=bad_trials_path)
  File "/project/6003615/kjslakov/jwlab_eeg/classification/jobs/../code/jwlab/ml_prep.py", line 88, in create_ml_df_internal
    ybad = get_bad_trials(participants, ys, bad_trials_filepath)
  File "/project/6003615/kjslakov/jwlab_eeg/classification/jobs/../code/jwlab/bad_trials.py", line 22, in get_bad_trials
    ybad.append(get_ybad_from_cel_obs(participants, i, ys, df, p_df))
  File "/project/6003615/kjslakov/jwlab_eeg/classification/jobs/../code/jwlab/bad_trials.py", line 43, in get_ybad_from_cel_obs
    & (int(participants[i]) == row['Ps'])].trial_index.values)
TypeError: tuple indices must be integers or slices, not str
